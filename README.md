# Тестовое задание: Иерархическая структура локаций

## Используемые версии
* Ruby 3.2.2
* Rails 8.0

## Описание файлов

### [app/models/location.rb](app/models/location.rb)
Основная модель проекта, реализующая иерархическую структуру локаций:
- Связь через `belongs_to :parent_location`
- Константа `LOCATION_TYPES` с типами локаций и их порядковыми номерами
- Enum для типов локаций: region (0), district (1), city (2), street (3), address (4)
- Метод `parent_locations(location)`:
  - Принимает экземпляр класса Location
  - Возвращает массив всех родительских локаций, включая сам location
  - Сортирует от корня (region) до текущей локации
- Метод `sort_locations(locations)`:
  - Принимает массив экземпляров класса Location
  - Сортирует по трем правилам:
    1. Родитель всегда идет раньше потомка
    2. Несвязанные локации сортируются по порядку в LOCATION_TYPES
    3. Локации одного типа сортируются по глубине вложенности (количеству родителей)

### [db/migrate/20250304225527_create_locations.rb](db/migrate/20250304225527_create_locations.rb)
Миграция создает таблицу locations с полями:
- `location_type` (integer) - тип локации из LOCATION_TYPES
- `location_id` (integer) - внешний ключ для связи с родительской локацией
- `name` (string) - название локации, содержащее полный путь от региона

### [db/seeds.rb](db/seeds.rb)
Файл с тестовыми данными, который:
- Создает иерархию из:
  - 3 регионов
  - 9 районов (по 3 в каждом регионе)
  - 27 городов (по 3 в каждом районе)
  - 81 улицы (по 3 в каждом городе)
  - 243 адресов (по 3 на каждой улице)
- Демонстрирует работу методов:
  - `parent_locations` на случайном адресе
  - `sort_locations` на наборе разных локаций
- Выводит результаты через `p` для наглядности проверки
